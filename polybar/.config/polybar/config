[global/wm]
margin-bottom = 0
margin-top = 0

[colors]
background = #005c5c
background-alt = #cbbae9
foreground = #f5ffff
foreground-inversed = #112
active = #52ffff
alert = #d23b22

[bar/main]
modules-left = sep-1 bspwm
modules-right = weather sep-3 date sep-1 cpu-temp sep-3 pulseaudio sep-2 battery sep-1

monitor = eDP1
monitor-fallback =
monitor-strict = false
monitor-exact = true 
override-redirect = true
wm-restack = bspwm
enable-ipc = true
separator =

width = 80%
height = 35
offset-x = 10%
offset-y = 4
radius = 18
fixed-center = false

background = ${colors.background}
foreground = ${colors.foreground}

padding-left = 1
padding-right = 2
# padding = 0

module-margin-left = 0
module-margin-right = 0

font-0 = Fira Sans Book:pixelsize=16;
# font-1 = HackerNerdFont:pixelsize=10;

pseudo-transparency = true

[module/bspwm]
type = internal/bspwm

pin-workspaces = true
inline-mode = false
enable-click = true
enable-scroll = false
fuzzy-match = true

label-focused = %name%
label-focused-background = ${colors.active}
label-focused-foreground = ${colors.foreground-inversed}
label-focused-padding = 2

label-occupied = %name%
label-occupied-foreground = ${colors.foreground}
label-occupied-padding = 2

label-urgent = %name%
label-urgent-background = ${colors.alert}
label-urgent-padding = 2

label-empty = %name%
label-empty-foreground = #4fb9c0
label-empty-padding = 2

[module/date]
type = internal/date
date = "%d %b, %a"
time = " %l:%M %p"
interval = 1
label = "   %date%%time%   "
format-padding = 1
label-background = ${colors.background-alt}
label-foreground = ${colors.foreground-inversed}

[module/battery]
type = internal/battery
full-at = 99
; $ ls -1 /sys/class/power_supply/
battery = BAT0
adapter = ADP1
poll-interval = 5

[module/pulseaudio]
type = internal/pulseaudio
; `pacmd list-sinks`
sink = alsa_output.pci-0000_12_00.3.analog-stereo
use-ui-max = true
interval = 3
click-right = pavucontrol

format-volume = <label-volume>
format-muted = <label-muted>
format-volume-background = ${colors.background-alt}
format-volume-foreground = ${colors.foreground-inversed}

label-volume = "  %percentage%%  "
label-muted = "     M     "
label-muted-foreground = ${colors.alert}

[module/sep-3]
type = custom/text
content = "   "
[module/sep-2]
type = custom/text
content = "  "
[module/sep-1]
type = custom/text
content = " "
[module/sep-i]
type = custom/text
content = "Â·"

[module/cpu-temp]
type = internal/temperature
interval = 0.5
; `for i in /sys/class/thermal/thermal_zone*; do echo "$i: $(<$i/type)"; done`
thermal-zone = 0
; `for i in /sys/class/hwmon/hwmon*/temp*_input; do echo "$(<$(dirname $i)/name): $(cat ${i%_*}_label 2>/dev/null || echo $(basename ${i%_*})) $(readlink -f $i)"; done`
hwmon-path = /sys/devices/platform/thinkpad_hwmon/hwmon/hwmon5/temp1_input
base-temperature = 20
warn-temperature = 65

format = <label>
format-warn = <label-warn>
format-warn-underline = ${colors.alert}

label = "CPU %temperature-c%"
label-warn = "!CPU %temperature-c%!"

[module/weather]
type = custom/script
interval = 300
exec = $HOME/bash-scripts/polybar/weather.sh
